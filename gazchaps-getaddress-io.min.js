!function(e){var t=[];function o(e){var o="";if(e.id.indexOf("billing_")>-1?o="billing":e.id.indexOf("shipping_")>-1&&(o="shipping"),o){var s=document.getElementById(o+"_postcode").value.replace(/[^A-Za-z0-9]/g,"").toUpperCase();s.length>0&&function(e,o,s){if(void 0!==t[e+"_"+o])return void d(t[e+"_"+o]);var a;if(a="action=gazchaps_woocommerce_getaddress_io",a+="&postcode="+e,a+="&address_type="+o,XMLHttpRequest){var r=new XMLHttpRequest;r.open("POST",gazchaps_getaddress_io.ajax_url),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.onload=function(){var s,a,n=JSON.parse(r.responseText);n.error_code?alert(n.error):(t[e+"_"+o]=n,s=n,(a=document.getElementById(s.address_type+"_postcode"))&&s.postcode&&(a.value=s.postcode),d(n))},r.send(a)}}(s,o)}}function d(t){var o=t.address_type+"_gazchaps-woocommerce-getaddress-io-address-selector",d=document.getElementById(o);(d&&d.parentNode.removeChild(d),t.address_count>0)&&(document.getElementById(t.address_type+"_gazchaps_getaddress_io_postcode_lookup_button_field").insertAdjacentHTML("afterend",t.fragment.trim()),e&&e.fn.select2&&e("#"+o).find("select").select2())}var s=document.getElementsByClassName("gazchaps-getaddress-io-lookup-button");if(s.length>0)for(var a=0;a<s.length;a++)s[a].addEventListener("click",function(e){o(this)});if(e("form.woocommerce-checkout").on("change","select",function(t){if("billing_gazchaps-woocommerce-getaddress-io-address-selector-select"==t.target.id||"shipping_gazchaps-woocommerce-getaddress-io-address-selector-select"==t.target.id){var o=t.target.options[t.target.selectedIndex].value;""==o&&(o="||||"),function(t,o){var d="billing";t.indexOf("shipping_")>-1&&(d="shipping");for(var s,a,r=o.split("|"),n=["address_1","address_2","city","state"],i=0;i<n.length;i++)s=d+"_"+n[i],null!==(a=document.getElementById(s))&&(a.value=r[i]);e(document.body).trigger("update_checkout")}(t.target.id,o)}}),gazchaps_getaddress_io.clear_additional_fields){var r=document.getElementsByClassName("woocommerce-additional-fields__field-wrapper");if(r.length>0)for(a=0;a<r.length;a++)r[a].style.clear="both"}}(jQuery);