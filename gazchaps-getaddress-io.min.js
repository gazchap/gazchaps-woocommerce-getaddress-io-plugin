!function(e){var t=[];function s(e){var s="";if(e.id.indexOf("billing_")>-1?s="billing":e.id.indexOf("shipping_")>-1&&(s="shipping"),s){var o=document.getElementById(s+"_postcode").value.replace(/[^A-Za-z0-9]/g,"").toUpperCase();o.length>0&&function(e,s,o){if(void 0!==t[e+"_"+s])return void d(t[e+"_"+s]);var a;if(a="action=gazchaps_woocommerce_getaddress_io",a+="&postcode="+e,a+="&address_type="+s,XMLHttpRequest){o&&(o.innerText=gazchaps_getaddress_io.searching_text,o.disabled=!0);var n=new XMLHttpRequest;n.open("POST",gazchaps_getaddress_io.ajax_url),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.onload=function(){o&&(o.innerText=gazchaps_getaddress_io.button_text,o.disabled=!1);var a,r,i=JSON.parse(n.responseText);i.error_code?alert(i.error):(t[e+"_"+s]=i,a=i,(r=document.getElementById(a.address_type+"_postcode"))&&a.postcode&&(r.value=a.postcode),d(i))},n.onerror=function(){o&&(o.innerText=gazchaps_getaddress_io.button_text,o.disabled=!1)},n.send(a)}}(o,s,e)}}function d(t){var s=t.address_type+"_gazchaps-woocommerce-getaddress-io-address-selector",d=document.getElementById(s);(d&&d.parentNode.removeChild(d),t.address_count>0)&&(document.getElementById(t.address_type+"_gazchaps_getaddress_io_postcode_lookup_button_field").insertAdjacentHTML("afterend",t.fragment.trim()),e&&e.fn.select2&&e("#"+s).find("select").select2())}var o=document.getElementsByClassName("gazchaps-getaddress-io-lookup-button");if(o.length>0)for(var a=0;a<o.length;a++)o[a].addEventListener("click",function(e){s(this)});if(e(".woocommerce-address-fields, .woocommerce-billing-fields, .woocommerce-shipping-fields").on("change","select",function(t){if("billing_gazchaps-woocommerce-getaddress-io-address-selector-select"==t.target.id||"shipping_gazchaps-woocommerce-getaddress-io-address-selector-select"==t.target.id){var s=t.target.options[t.target.selectedIndex].value;""==s&&(s="||||"),function(t,s){var d="billing";t.indexOf("shipping_")>-1&&(d="shipping");for(var o,a,n=s.split("|"),r=["address_1","address_2","city","state"],i=0;i<r.length;i++)o=d+"_"+r[i],null!==(a=document.getElementById(o))&&(a.value=n[i]);e(document.body).trigger("update_checkout")}(t.target.id,s)}}),gazchaps_getaddress_io.clear_additional_fields){var n=document.getElementsByClassName("woocommerce-additional-fields__field-wrapper");if(n.length>0)for(a=0;a<n.length;a++)n[a].style.clear="both"}}(jQuery);