!function(e){var t=[];function o(e){var o="";if(e.id.indexOf("billing_")>-1?o="billing":e.id.indexOf("shipping_")>-1&&(o="shipping"),o){var s=document.getElementById(o+"_postcode").value.replace(/[^A-Za-z0-9]/g,"").toUpperCase();s.length>0&&function(e,o,s){if(void 0!==t[e+"_"+o])return void a(t[e+"_"+o]);var d;if(d="action=gazchaps_woocommerce_getaddress_io",d+="&postcode="+e,d+="&address_type="+o,XMLHttpRequest){var r=new XMLHttpRequest;r.open("POST",gazchaps_getaddress_io.ajax_url),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.onload=function(){var s=JSON.parse(r.responseText);s.error_code?alert(s.error):(t[e+"_"+o]=s,a(s))},r.send(d)}}(s,o)}}function a(t){var o=t.address_type+"_gazchaps-woocommerce-getaddress-io-address-selector",a=document.getElementById(o);(a&&a.parentNode.removeChild(a),t.address_count>0)&&(document.getElementById(t.address_type+"_gazchaps_getaddress_io_postcode_lookup_button_field").insertAdjacentHTML("afterend",t.fragment.trim()),e&&e.fn.select2&&e("#"+o).find("select").select2())}var s=document.getElementsByClassName("gazchaps-getaddress-io-lookup-button");if(s.length>0)for(var d=0;d<s.length;d++)s[d].addEventListener("click",function(e){o(this)});if(e("form.woocommerce-checkout").on("change","select",function(t){if("billing_gazchaps-woocommerce-getaddress-io-address-selector-select"==t.target.id||"shipping_gazchaps-woocommerce-getaddress-io-address-selector-select"==t.target.id){var o=t.target.options[t.target.selectedIndex].value;""==o&&(o="||||"),function(t,o){var a="billing";t.indexOf("shipping_")>-1&&(a="shipping");for(var s,d,r=o.split("|"),n=["address_1","address_2","city","state"],i=0;i<n.length;i++)s=a+"_"+n[i],null!==(d=document.getElementById(s))&&(d.value=r[i]);e(document.body).trigger("update_checkout")}(t.target.id,o)}}),gazchaps_getaddress_io.clear_additional_fields){var r=document.getElementsByClassName("woocommerce-additional-fields__field-wrapper");if(r.length>0)for(d=0;d<r.length;d++)r[d].style.clear="both"}}(jQuery);